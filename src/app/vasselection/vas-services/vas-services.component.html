<div class="alert alert-success" role="alert" [hidden]="isSuccess">
  <strong>Success!</strong> {{successMsg}}
</div>
<div class="alert alert-danger" role="alert" [hidden]="isError">
  <strong>Warning!</strong> {{errorMsg}}
</div>
<h1 class="page-title">Value Added Services</h1>
<div class="button-row buttonposition">
  <button class="mb10" mat-raised-button color="warn" routerLink="../viewvas">Back</button>
</div>
<section class="widget">
  <header>
    <h4>Add Value Added Services</h4>
  </header>
  <div class="widget-body pt-4">
    <form class="example-form" [formGroup]="addServicesForm" (ngSubmit)="onSubmit(addServicesForm.value)">
      <div class="col-md-8 col-sm-12 m-auto">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12">
            <mat-form-field class="example-full-width">
              <input formControlName="Name" matInput placeholder="Name" required>
              <mat-error *ngIf="!Name.valid && Name.touched">Name Required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="customerCat" placeholder="Customer Category" required>
                <mat-option *ngFor="let category of customerCategoryy" [value]="category.viewValue">
                  {{category.viewValue}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="!customerCat.valid && customerCat.touched">Customer Category Required</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="billCycle" placeholder="Billing Cycle" required>
                <mat-option *ngFor="let bc of billingCycle" [value]="bc.viewValue">
                  {{bc.viewValue}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="!billingCycle && billingCycle">Billing Cycle Required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="paymentTerms" placeholder="Payment Terms" required>
                <mat-option *ngFor="let term of paymentTermss" [value]="term.viewValue">
                  {{term.viewValue}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="!paymentTerms.valid && paymentTerms.touched">Payment Terms Required</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="services" (change)="subservicedata($event)" placeholder="Value Added Service Type" required>
                <mat-option *ngFor="let service of Services" [value]="service.viewValue">
                  {{service.viewValue}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="!services.valid && services.touched">Service Type Required</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row table-responsive salesLead" id="salesLead">
          <table class="table table-striped">
            <thead>
              <th>Service name</th>
              <th>Fee</th>
              <th>Description</th>
              <th>Remove</th>
            </thead>
            <tbody>
              <tr *ngFor="let item of addServicesForm.get('items')['controls']; let i=index" [formGroup]="item">
                <td>
                  <mat-form-field>
                    <input matInput formControlName="subcat">
                    <mat-error>subcat</mat-error>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field>
                    <input matInput onpaste="return false;" formControlName="price" required>
                    <mat-error>Fee Required</mat-error>
                  </mat-form-field>
                </td>
                <td>
                  <mat-form-field>
                    <input matInput formControlName="description">
                  </mat-form-field>
                </td>
                <td>
                  <button type="button" mat-raised-button color="warn" (click)="removeItem(i)">Remove</button>
                </td>
              </tr>
            </tbody>
          </table>
          <label class="green" (click)="addItem()">+ Add Another Item</label>

        </div>
        <div class="row table-responsiv" id="subservice">
          <table class="table table-striped">
            <thead>
              <th>Slot No</th>
              <th>Fee</th>
              <th>Description</th>
              <th>Remove</th>
            </thead>
            <tbody>
              <tr>
                <tr *ngFor="let item of addServicesForm.get('items')['controls']; let i=index" [formGroup]="item">
                  <td>
                    <mat-form-field>
                      <input matInput formControlName="slot">
                      <mat-error>Slot Required</mat-error>
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field>
                      <input matInput onpaste="return false;" formControlName="price">
                      <mat-error>Fee Required</mat-error>
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field>
                      <input matInput formControlName="description">
                    </mat-form-field>
                  </td>
                  <td>
                    <button mat-raised-button color="warn" (click)="removeItem($event)">Remove</button>
                  </td>
                </tr>
            </tbody>
          </table>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <button type="submit" mat-raised-button color="warn">Submit</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>